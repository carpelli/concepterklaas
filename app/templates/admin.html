{% extends "base.html" %}
{% block title %}Admin{% endblock %}
{% block content %}
    <h1>Admin</h1>
    <h2>My Events</h2>
    <table>
        <thead>
            <th style="width: 60%;">Name</th>
            <th style="width: 20%;">{{ heroicon_solid('users', width='1rem', height='1rem') }}</th>
            <th style="width: 20%;">{{ heroicon_outline('arrows-right-left', width='1rem', height='1rem', stroke_width='2') }}</th>
            <th class="right"></th>
        </thead>
        <tbody>
            {% for event in host.events %}
                <tr>
                    <td>
                        <a href="{{ url_for('event_detail', event_id=event.id) }}">{{ event.name }}</a>
                    </td>
                    <td>{{ event.participants|length }}</td>
                    <td>{{ check if event.assignment_run_at else x }}</td>
                    {% set confirm = "Are you sure you want to delete this event?" %}
                    <td class="right">{{ delete_button(url_for('remove_event', event_id=event.id) , confirm=confirm) }}</td>
                </tr>
            {% else %}
                <tr>
                    <td rowspan="4">No events yet!</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    <h3 class="mt-1">Create Event</h3>
    <form method="post" action="{{ url_for('admin') }}">
        <label for="event_name">Event name:</label>
        <div class="couple">
            <input type="text" name="event_name" maxlength="50" required />
            <button type="submit">Create</button>
        </div>
    </form>
    <hr />
    <p>
        <a href="{{ url_for('logout') }}">Logout</a>
    </p>
{% endblock %}
